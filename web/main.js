/*! For license information please see main.js.LICENSE.txt */
(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();const e=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=63&s|128):55296==(64512&s)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++i)),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=63&s|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=63&s|128)}return e},n={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let e=0;e<t.length;e+=3){const s=t[e],r=e+1<t.length,o=r?t[e+1]:0,a=e+2<t.length,h=a?t[e+2]:0,l=s>>2,c=(3&s)<<4|o>>4;let u=(15&o)<<2|h>>6,f=63&h;a||(f=64,r||(u=64)),i.push(n[l],n[c],n[u],n[f])}return i.join("")},encodeString(t,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(t):this.encodeByteArray(e(t),n)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((31&s)<<6|63&r)}else if(s>239&&s<365){const r=((7&s)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[i++]=String.fromCharCode(55296+(r>>10)),e[i++]=String.fromCharCode(56320+(1023&r))}else{const r=t[n++],o=t[n++];e[i++]=String.fromCharCode((15&s)<<12|(63&r)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let e=0;e<t.length;){const s=n[t.charAt(e++)],r=e<t.length?n[t.charAt(e)]:0;++e;const o=e<t.length?n[t.charAt(e)]:64;++e;const a=e<t.length?n[t.charAt(e)]:64;if(++e,null==s||null==r||null==o||null==a)throw Error();const h=s<<2|r>>4;if(i.push(h),64!==o){const t=r<<4&240|o>>2;if(i.push(t),64!==a){const t=o<<6&192|a;i.push(t)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},i=function(t){return function(t){const i=e(t);return n.encodeByteArray(i,!0)}(t).replace(/\./g,"")};class s{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"==typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}function r(){return"object"==typeof indexedDB}function o(){return new Promise(((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var t;e((null===(t=s.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))}class a extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,a.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,h.prototype.create)}}class h{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},i=`${this.service}/${t}`,s=this.errors[t],r=s?function(t,e){return t.replace(l,((t,n)=>{const i=e[n];return null!=i?String(i):`<${n}?>`}))}(s,n):"Error",o=`${this.serviceName}: ${r} (${i}).`;return new a(i,o,n)}}const l=/\{\$([^}]+)}/g;function c(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const n=t[s],r=e[s];if(u(n)&&u(r)){if(!c(n,r))return!1}else if(n!==r)return!1}for(const t of i)if(!n.includes(t))return!1;return!0}function u(t){return null!==t&&"object"==typeof t}function f(t,e=1e3,n=2){const i=e*Math.pow(n,t),s=Math.round(.5*i*(Math.random()-.5)*2);return Math.min(144e5,i+s)}function p(t){return t&&t._delegate?t._delegate:t}class d{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const g="[DEFAULT]";class m{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new s;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(t){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),i=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(t){if(i)return null;throw t}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:g})}catch(t){}for(const[t,e]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});e.resolve(t)}catch(t){}}}}clearInstance(t="[DEFAULT]"){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t="[DEFAULT]"){return this.instances.has(t)}getOptions(t="[DEFAULT]"){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[t,e]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(t)&&e.resolve(i);return i}onInit(t,e){var n;const i=this.normalizeInstanceIdentifier(e),s=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;s.add(t),this.onInitCallbacks.set(i,s);const r=this.instances.get(i);return r&&t(r,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch(t){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===g?void 0:i),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(t){}var i;return n||null}normalizeInstanceIdentifier(t="[DEFAULT]"){return this.component?this.component.multipleInstances?t:g:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class y{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new m(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const v=[];var b,w;(w=b||(b={}))[w.DEBUG=0]="DEBUG",w[w.VERBOSE=1]="VERBOSE",w[w.INFO=2]="INFO",w[w.WARN=3]="WARN",w[w.ERROR=4]="ERROR",w[w.SILENT=5]="SILENT";const E={debug:b.DEBUG,verbose:b.VERBOSE,info:b.INFO,warn:b.WARN,error:b.ERROR,silent:b.SILENT},I=b.INFO,T={[b.DEBUG]:"log",[b.VERBOSE]:"log",[b.INFO]:"info",[b.WARN]:"warn",[b.ERROR]:"error"},_=(t,e,...n)=>{if(e<t.logLevel)return;const i=(new Date).toISOString(),s=T[e];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[s](`[${i}]  ${t.name}:`,...n)};class C{constructor(t){this.name=t,this._logLevel=I,this._logHandler=_,this._userLogHandler=null,v.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in b))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?E[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,b.DEBUG,...t),this._logHandler(this,b.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,b.VERBOSE,...t),this._logHandler(this,b.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,b.INFO,...t),this._logHandler(this,b.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,b.WARN,...t),this._logHandler(this,b.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,b.ERROR,...t),this._logHandler(this,b.ERROR,...t)}}let S,A;const k=new WeakMap,D=new WeakMap,R=new WeakMap,O=new WeakMap,P=new WeakMap;let L={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return D.get(t);if("objectStoreNames"===e)return t.objectStoreNames||R.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return N(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function x(t){return"function"==typeof t?(e=t)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(A||(A=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(M(this),t),N(k.get(this))}:function(...t){return N(e.apply(M(this),t))}:function(t,...n){const i=e.call(M(this),t,...n);return R.set(i,t.sort?t.sort():[t]),N(i)}:(t instanceof IDBTransaction&&function(t){if(D.has(t))return;const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",r),t.removeEventListener("abort",r)},s=()=>{e(),i()},r=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",r),t.addEventListener("abort",r)}));D.set(t,e)}(t),n=t,(S||(S=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>n instanceof t))?new Proxy(t,L):t);var e,n}function N(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",r)},s=()=>{e(N(t.result)),i()},r=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",r)}));return e.then((e=>{e instanceof IDBCursor&&k.set(e,t)})).catch((()=>{})),P.set(e,t),e}(t);if(O.has(t))return O.get(t);const e=x(t);return e!==t&&(O.set(t,e),P.set(e,t)),e}const M=t=>P.get(t);function j(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(t,e),a=N(o);return i&&o.addEventListener("upgradeneeded",(t=>{i(N(o.result),t.oldVersion,t.newVersion,N(o.transaction))})),n&&o.addEventListener("blocked",(()=>n())),a.then((t=>{r&&t.addEventListener("close",(()=>r())),s&&t.addEventListener("versionchange",(()=>s()))})).catch((()=>{})),a}const F=["get","getKey","getAll","getAllKeys","count"],B=["put","add","delete","clear"],U=new Map;function $(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(U.get(e))return U.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=B.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!s&&!F.includes(n))return;const r=async function(t,...e){const r=this.transaction(t,s?"readwrite":"readonly");let o=r.store;return i&&(o=o.index(e.shift())),(await Promise.all([o[n](...e),s&&r.done]))[0]};return U.set(e,r),r}var H;H=L,L={...H,get:(t,e,n)=>$(t,e)||H.get(t,e,n),has:(t,e)=>!!$(t,e)||H.has(t,e)};class z{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const V="@firebase/app",q="0.7.32",K=new C("@firebase/app"),X={[V]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},W=new Map,G=new Map;function Y(t,e){try{t.container.addComponent(e)}catch(n){K.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function J(t){const e=t.name;if(G.has(e))return K.debug(`There were multiple attempts to register component ${e}.`),!1;G.set(e,t);for(const e of W.values())Y(e,t);return!0}function Q(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Z=new h("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class tt{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new d("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Z.create("app-deleted",{appName:this._name})}}function et(t="[DEFAULT]"){const e=W.get(t);if(!e)throw Z.create("no-app",{appName:t});return e}function nt(t,e,n){var i;let s=null!==(i=X[t])&&void 0!==i?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const t=[`Unable to register library "${s}" with version "${e}":`];return r&&t.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&t.push("and"),o&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void K.warn(t.join(" "))}J(new d(`${s}-version`,(()=>({library:s,version:e})),"VERSION"))}const it="firebase-heartbeat-store";let st=null;function rt(){return st||(st=j("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(it)}}).catch((t=>{throw Z.create("idb-open",{originalErrorMessage:t.message})}))),st}async function ot(t,e){var n;try{const n=(await rt()).transaction(it,"readwrite"),i=n.objectStore(it);return await i.put(e,at(t)),n.done}catch(t){if(t instanceof a)K.warn(t.message);else{const e=Z.create("idb-set",{originalErrorMessage:null===(n=t)||void 0===n?void 0:n.message});K.warn(e.message)}}}function at(t){return`${t.name}!${t.options.appId}`}class ht{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new ct(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),e=lt();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==e&&!this._heartbeatsCache.heartbeats.some((t=>t.date===e)))return this._heartbeatsCache.heartbeats.push({date:e,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const t=lt(),{heartbeatsToSend:e,unsentEntries:n}=function(t,e=1024){const n=[];let i=t.slice();for(const s of t){const t=n.find((t=>t.agent===s.agent));if(t){if(t.dates.push(s.date),ut(n)>e){t.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ut(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),s=i(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function lt(){return(new Date).toISOString().substring(0,10)}class ct{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!r()&&o().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){var e;try{return(await rt()).transaction(it).objectStore(it).get(at(t))}catch(t){if(t instanceof a)K.warn(t.message);else{const n=Z.create("idb-get",{originalErrorMessage:null===(e=t)||void 0===e?void 0:e.message});K.warn(n.message)}}}(this.app);return t||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return ot(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return ot(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function ut(t){return i(JSON.stringify({version:2,heartbeats:t})).length}J(new d("platform-logger",(t=>new z(t)),"PRIVATE")),J(new d("heartbeat",(t=>new ht(t)),"PRIVATE")),nt(V,q,""),nt(V,q,"esm2017"),nt("fire-js",""),nt("firebase","9.9.4","app");const ft="@firebase/installations",pt="0.5.12",dt="w:0.5.12",gt=new h("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function mt(t){return t instanceof a&&t.code.includes("request-failed")}function yt({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function vt(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}async function bt(t,e){const n=(await e.json()).error;return gt.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function wt({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}async function Et(t){const e=await t();return e.status>=500&&e.status<600?t():e}function It(t){return new Promise((e=>{setTimeout(e,t)}))}const Tt=/^[cdef][\w-]{21}$/;function _t(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=function(t){return(e=t,btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return Tt.test(e)?e:""}catch(t){return""}}function Ct(t){return`${t.appName}!${t.appId}`}const St=new Map;function At(t,e){const n=Ct(t);kt(n,e),function(t,e){const n=(!Dt&&"BroadcastChannel"in self&&(Dt=new BroadcastChannel("[Firebase] FID Change"),Dt.onmessage=t=>{kt(t.data.key,t.data.fid)}),Dt);n&&n.postMessage({key:t,fid:e}),0===St.size&&Dt&&(Dt.close(),Dt=null)}(n,e)}function kt(t,e){const n=St.get(t);if(n)for(const t of n)t(e)}let Dt=null;const Rt="firebase-installations-store";let Ot=null;function Pt(){return Ot||(Ot=j("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Rt)}})),Ot}async function Lt(t,e){const n=Ct(t),i=(await Pt()).transaction(Rt,"readwrite"),s=i.objectStore(Rt),r=await s.get(n);return await s.put(e,n),await i.done,r&&r.fid===e.fid||At(t,e.fid),e}async function xt(t){const e=Ct(t),n=(await Pt()).transaction(Rt,"readwrite");await n.objectStore(Rt).delete(e),await n.done}async function Nt(t,e){const n=Ct(t),i=(await Pt()).transaction(Rt,"readwrite"),s=i.objectStore(Rt),r=await s.get(n),o=e(r);return void 0===o?await s.delete(n):await s.put(o,n),await i.done,!o||r&&r.fid===o.fid||At(t,o.fid),o}async function Mt(t){let e;const n=await Nt(t.appConfig,(n=>{const i=function(t){return Bt(t||{fid:_t(),registrationStatus:0})}(n),s=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(gt.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=async function(t,e){try{const n=await async function({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=yt(t),s=wt(t),r=e.getImmediate({optional:!0});if(r){const t=await r.getHeartbeatsHeader();t&&s.append("x-firebase-client",t)}const o={fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:dt},a={method:"POST",headers:s,body:JSON.stringify(o)},h=await Et((()=>fetch(i,a)));if(h.ok){const t=await h.json();return{fid:t.fid||n,registrationStatus:2,refreshToken:t.refreshToken,authToken:vt(t.authToken)}}throw await bt("Create Installation",h)}(t,e);return Lt(t.appConfig,n)}catch(n){throw mt(n)&&409===n.customData.serverCode?await xt(t.appConfig):await Lt(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}(t,n);return{installationEntry:n,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:jt(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry}));return""===n.fid?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}async function jt(t){let e=await Ft(t.appConfig);for(;1===e.registrationStatus;)await It(100),e=await Ft(t.appConfig);if(0===e.registrationStatus){const{installationEntry:e,registrationPromise:n}=await Mt(t);return n||e}return e}function Ft(t){return Nt(t,(t=>{if(!t)throw gt.create("installation-not-found");return Bt(t)}))}function Bt(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}async function Ut({appConfig:t,heartbeatServiceProvider:e},n){const i=function(t,{fid:e}){return`${yt(t)}/${e}/authTokens:generate`}(t,n),s=function(t,{refreshToken:e}){const n=wt(t);return n.append("Authorization",function(t){return`FIS_v2 ${t}`}(e)),n}(t,n),r=e.getImmediate({optional:!0});if(r){const t=await r.getHeartbeatsHeader();t&&s.append("x-firebase-client",t)}const o={installation:{sdkVersion:dt,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},h=await Et((()=>fetch(i,a)));if(h.ok)return vt(await h.json());throw await bt("Generate Auth Token",h)}async function $t(t,e=!1){let n;const i=await Nt(t.appConfig,(i=>{if(!zt(i))throw gt.create("not-registered");const s=i.authToken;if(!e&&(2===(r=s).requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(r)))return i;var r;if(1===s.requestStatus)return n=async function(t,e){let n=await Ht(t.appConfig);for(;1===n.authToken.requestStatus;)await It(100),n=await Ht(t.appConfig);const i=n.authToken;return 0===i.requestStatus?$t(t,e):i}(t,e),i;{if(!navigator.onLine)throw gt.create("app-offline");const e=function(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(i);return n=async function(t,e){try{const n=await Ut(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await Lt(t.appConfig,i),n}catch(n){if(!mt(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Lt(t.appConfig,n)}else await xt(t.appConfig);throw n}}(t,e),e}}));return n?await n:i.authToken}function Ht(t){return Nt(t,(t=>{if(!zt(t))throw gt.create("not-registered");return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t;var e}))}function zt(t){return void 0!==t&&2===t.registrationStatus}function Vt(t){return gt.create("missing-app-config-values",{valueName:t})}const qt="installations";J(new d(qt,(t=>{const e=t.getProvider("app").getImmediate(),n=function(t){if(!t||!t.options)throw Vt("App Configuration");if(!t.name)throw Vt("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Vt(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Q(e,"heartbeat"),_delete:()=>Promise.resolve()}}),"PUBLIC")),J(new d("installations-internal",(t=>{const e=Q(t.getProvider("app").getImmediate(),qt).getImmediate();return{getId:()=>async function(t){const e=t,{installationEntry:n,registrationPromise:i}=await Mt(e);return i?i.catch(console.error):$t(e).catch(console.error),n.fid}(e),getToken:t=>async function(t,e=!1){const n=t;return await async function(t){const{registrationPromise:e}=await Mt(t);e&&await e}(n),(await $t(n,e)).token}(e,t)}}),"PRIVATE")),nt(ft,pt),nt(ft,pt,"esm2017");const Kt="analytics",Xt="https://www.googletagmanager.com/gtag/js",Wt=new C("@firebase/analytics");function Gt(t){return Promise.all(t.map((t=>t.catch((t=>t)))))}const Yt=new h("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Jt=new class{constructor(t={},e=1e3){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function Qt(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Zt(t,e=Jt,n){const{appId:i,apiKey:s,measurementId:r}=t.options;if(!i)throw Yt.create("no-app-id");if(!s){if(r)return{measurementId:r,appId:i};throw Yt.create("no-api-key")}const o=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new ee;return setTimeout((async()=>{a.abort()}),void 0!==n?n:6e4),te({appId:i,apiKey:s,measurementId:r},o,a,e)}async function te(t,{throttleEndTimeMillis:e,backoffCount:n},i,s=Jt){var r,o;const{appId:h,measurementId:l}=t;try{await function(t,e){return new Promise(((n,i)=>{const s=Math.max(e-Date.now(),0),r=setTimeout(n,s);t.addEventListener((()=>{clearTimeout(r),i(Yt.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}(i,e)}catch(t){if(l)return Wt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===(r=t)||void 0===r?void 0:r.message}]`),{appId:h,measurementId:l};throw t}try{const e=await async function(t){var e;const{appId:n,apiKey:i}=t,s={method:"GET",headers:Qt(i)},r="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),o=await fetch(r,s);if(200!==o.status&&304!==o.status){let t="";try{const n=await o.json();(null===(e=n.error)||void 0===e?void 0:e.message)&&(t=n.error.message)}catch(t){}throw Yt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:t})}return o.json()}(t);return s.deleteThrottleMetadata(h),e}catch(e){const r=e;if(!function(t){if(!(t instanceof a&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(r)){if(s.deleteThrottleMetadata(h),l)return Wt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null==r?void 0:r.message}]`),{appId:h,measurementId:l};throw e}const c=503===Number(null===(o=null==r?void 0:r.customData)||void 0===o?void 0:o.httpStatus)?f(n,s.intervalMillis,30):f(n,s.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return s.setThrottleMetadata(h,u),Wt.debug(`Calling attemptFetch again in ${c} millis`),te(t,u,i,s)}}class ee{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach((t=>t()))}}let ne,ie;async function se(t,e,n,i,s,a,h){var l;const c=Zt(t);c.then((e=>{n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Wt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${e.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((t=>Wt.error(t))),e.push(c);const u=async function(){var t;if(!r())return Wt.warn(Yt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await o()}catch(e){return Wt.warn(Yt.create("indexeddb-unavailable",{errorInfo:null===(t=e)||void 0===t?void 0:t.toString()}).message),!1}return!0}().then((t=>t?i.getId():void 0)),[f,p]=await Promise.all([c,u]);(function(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(Xt))return e;return null})()||function(t,e){const n=document.createElement("script");n.src=`${Xt}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}(a,f.measurementId),ie&&(s("consent","default",ie),ie=void 0),s("js",new Date);const d=null!==(l=null==h?void 0:h.config)&&void 0!==l?l:{};return d.origin="firebase",d.update=!0,null!=p&&(d.firebase_id=p),s("config",f.measurementId,d),ne&&(s("set",ne),ne=void 0),f.measurementId}class re{constructor(t){this.app=t}_delete(){return delete oe[this.app.options.appId],Promise.resolve()}}let oe={},ae=[];const he={};let le,ce,ue="dataLayer",fe=!1;function pe(t,e,n){!function(){const t=[];if(function(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()&&t.push("This is a browser extension environment."),"undefined"!=typeof navigator&&navigator.cookieEnabled||t.push("Cookies are not available."),t.length>0){const e=t.map(((t,e)=>`(${e+1}) ${t}`)).join(" "),n=Yt.create("invalid-analytics-context",{errorInfo:e});Wt.warn(n.message)}}();const i=t.options.appId;if(!i)throw Yt.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Yt.create("no-api-key");Wt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=oe[i])throw Yt.create("already-exists",{id:i});if(!fe){!function(t){let e=[];Array.isArray(window.dataLayer)?e=window.dataLayer:window.dataLayer=e}();const{wrappedGtag:t,gtagCore:e}=function(t,e,n,i,s){let r=function(...t){window.dataLayer.push(arguments)};return window.gtag&&"function"==typeof window.gtag&&(r=window.gtag),window.gtag=function(t,e,n,i){return async function(s,r,o){try{"event"===s?await async function(t,e,n,i,s){try{let r=[];if(s&&s.send_to){let t=s.send_to;Array.isArray(t)||(t=[t]);const i=await Gt(n);for(const n of t){const t=i.find((t=>t.measurementId===n)),s=t&&e[t.appId];if(!s){r=[];break}r.push(s)}}0===r.length&&(r=Object.values(e)),await Promise.all(r),t("event",i,s||{})}catch(t){Wt.error(t)}}(t,e,n,r,o):"config"===s?await async function(t,e,n,i,s,r){const o=i[s];try{if(o)await e[o];else{const t=(await Gt(n)).find((t=>t.measurementId===s));t&&await e[t.appId]}}catch(t){Wt.error(t)}t("config",s,r)}(t,e,n,i,r,o):"consent"===s?t("consent","update",o):t("set",r)}catch(t){Wt.error(t)}}}(r,t,e,n),{gtagCore:r,wrappedGtag:window.gtag}}(oe,ae,he);ce=t,le=e,fe=!0}return oe[i]=se(t,ae,he,e,le,ue,n),new re(t)}const de="@firebase/analytics",ge="0.8.0";J(new d(Kt,((t,{options:e})=>pe(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),e)),"PUBLIC")),J(new d("analytics-internal",(function(t){try{const e=t.getProvider(Kt).getImmediate();return{logEvent:(t,n,i)=>function(t,e,n,i){t=p(t),async function(t,e,n,i,s){if(s&&s.global)t("event",n,i);else{const s=await e;t("event",n,Object.assign(Object.assign({},i),{send_to:s}))}}(ce,oe[t.app.options.appId],e,n,i).catch((t=>Wt.error(t)))}(e,t,n,i)}}catch(t){throw Yt.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),nt(de,ge),nt(de,ge,"esm2017");var me,ye="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t.g?t.g:"undefined"!=typeof self?self:{},ve={},be=be||{},we=ye||self;function Ee(){}function Ie(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Te(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var _e="closure_uid_"+(1e9*Math.random()>>>0),Ce=0;function Se(t,e,n){return t.call.apply(t.bind,arguments)}function Ae(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function ke(t,e,n){return(ke=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Se:Ae).apply(null,arguments)}function De(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Re(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,i){for(var s=Array(arguments.length-2),r=2;r<arguments.length;r++)s[r-2]=arguments[r];return e.prototype[n].apply(t,s)}}function Oe(){this.s=this.s,this.o=this.o}var Pe={};Oe.prototype.s=!1,Oe.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,_e)&&t[_e]||(t[_e]=++Ce)}(this);delete Pe[t]}},Oe.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Le=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},xe=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const i=t.length,s="string"==typeof t?t.split(""):t;for(let r=0;r<i;r++)r in s&&e.call(n,s[r],r,t)};function Ne(t){return Array.prototype.concat.apply([],arguments)}function Me(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function je(t){return/^[\s\xa0]*$/.test(t)}var Fe,Be=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ue(t,e){return-1!=t.indexOf(e)}function $e(t,e){return t<e?-1:t>e?1:0}t:{var He=we.navigator;if(He){var ze=He.userAgent;if(ze){Fe=ze;break t}}Fe=""}function Ve(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function qe(t){const e={};for(const n in t)e[n]=t[n];return e}var Ke="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xe(t,e){let n,i;for(let e=1;e<arguments.length;e++){for(n in i=arguments[e],i)t[n]=i[n];for(let e=0;e<Ke.length;e++)n=Ke[e],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function We(t){return We[" "](t),t}We[" "]=Ee;var Ge,Ye,Je=Ue(Fe,"Opera"),Qe=Ue(Fe,"Trident")||Ue(Fe,"MSIE"),Ze=Ue(Fe,"Edge"),tn=Ze||Qe,en=Ue(Fe,"Gecko")&&!(Ue(Fe.toLowerCase(),"webkit")&&!Ue(Fe,"Edge"))&&!(Ue(Fe,"Trident")||Ue(Fe,"MSIE"))&&!Ue(Fe,"Edge"),nn=Ue(Fe.toLowerCase(),"webkit")&&!Ue(Fe,"Edge");function sn(){var t=we.document;return t?t.documentMode:void 0}t:{var rn="",on=(Ye=Fe,en?/rv:([^\);]+)(\)|;)/.exec(Ye):Ze?/Edge\/([\d\.]+)/.exec(Ye):Qe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ye):nn?/WebKit\/(\S+)/.exec(Ye):Je?/(?:Version)[ \/]?(\S+)/.exec(Ye):void 0);if(on&&(rn=on?on[1]:""),Qe){var an=sn();if(null!=an&&an>parseFloat(rn)){Ge=String(an);break t}}Ge=rn}var hn,ln={};function cn(){return t=ln,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let t=0;const e=Be(String(Ge)).split("."),n=Be("9").split("."),i=Math.max(e.length,n.length);for(let o=0;0==t&&o<i;o++){var s=e[o]||"",r=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],0==s[0].length&&0==r[0].length)break;t=$e(0==s[1].length?0:parseInt(s[1],10),0==r[1].length?0:parseInt(r[1],10))||$e(0==s[2].length,0==r[2].length)||$e(s[2],r[2]),s=s[3],r=r[3]}while(0==t)}return 0<=t}();var t}we.document&&Qe?hn=sn()||parseInt(Ge,10)||void 0:hn=void 0;var un=hn,fn=function(){if(!we.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{we.addEventListener("test",Ee,e),we.removeEventListener("test",Ee,e)}catch(t){}return t}();function pn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function dn(t,e){if(pn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(en){t:{try{We(e.nodeName);var s=!0;break t}catch(t){}s=!1}s||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:gn[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&dn.Z.h.call(this)}}pn.prototype.h=function(){this.defaultPrevented=!0},Re(dn,pn);var gn={2:"touch",3:"pen",4:"mouse"};dn.prototype.h=function(){dn.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var mn="closure_listenable_"+(1e6*Math.random()|0),yn=0;function vn(t,e,n,i,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ia=s,this.key=++yn,this.ca=this.fa=!1}function bn(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function wn(t){this.src=t,this.g={},this.h=0}function En(t,e){var n=e.type;if(n in t.g){var i,s=t.g[n],r=Le(s,e);(i=0<=r)&&Array.prototype.splice.call(s,r,1),i&&(bn(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function In(t,e,n,i){for(var s=0;s<t.length;++s){var r=t[s];if(!r.ca&&r.listener==e&&r.capture==!!n&&r.ia==i)return s}return-1}wn.prototype.add=function(t,e,n,i,s){var r=t.toString();(t=this.g[r])||(t=this.g[r]=[],this.h++);var o=In(t,e,i,s);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new vn(e,this.src,r,!!i,s)).fa=n,t.push(e)),e};var Tn="closure_lm_"+(1e6*Math.random()|0),_n={};function Cn(t,e,n,i,s){if(i&&i.once)return An(t,e,n,i,s);if(Array.isArray(e)){for(var r=0;r<e.length;r++)Cn(t,e[r],n,i,s);return null}return n=xn(n),t&&t[mn]?t.N(e,n,Te(i)?!!i.capture:!!i,s):Sn(t,e,n,!1,i,s)}function Sn(t,e,n,i,s,r){if(!e)throw Error("Invalid event type");var o=Te(s)?!!s.capture:!!s,a=Pn(t);if(a||(t[Tn]=a=new wn(t)),(n=a.add(e,n,i,o,r)).proxy)return n;if(i=function(){var t=On;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)fn||(s=o),void 0===s&&(s=!1),t.addEventListener(e.toString(),i,s);else if(t.attachEvent)t.attachEvent(Rn(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function An(t,e,n,i,s){if(Array.isArray(e)){for(var r=0;r<e.length;r++)An(t,e[r],n,i,s);return null}return n=xn(n),t&&t[mn]?t.O(e,n,Te(i)?!!i.capture:!!i,s):Sn(t,e,n,!0,i,s)}function kn(t,e,n,i,s){if(Array.isArray(e))for(var r=0;r<e.length;r++)kn(t,e[r],n,i,s);else i=Te(i)?!!i.capture:!!i,n=xn(n),t&&t[mn]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=In(r=t.g[e],n,i,s))&&(bn(r[n]),Array.prototype.splice.call(r,n,1),0==r.length&&(delete t.g[e],t.h--))):t&&(t=Pn(t))&&(e=t.g[e.toString()],t=-1,e&&(t=In(e,n,i,s)),(n=-1<t?e[t]:null)&&Dn(n))}function Dn(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[mn])En(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(Rn(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Pn(e))?(En(n,t),0==n.h&&(n.src=null,e[Tn]=null)):bn(t)}}}function Rn(t){return t in _n?_n[t]:_n[t]="on"+t}function On(t,e){if(t.ca)t=!0;else{e=new dn(e,this);var n=t.listener,i=t.ia||t.src;t.fa&&Dn(t),t=n.call(i,e)}return t}function Pn(t){return(t=t[Tn])instanceof wn?t:null}var Ln="__closure_events_fn_"+(1e9*Math.random()>>>0);function xn(t){return"function"==typeof t?t:(t[Ln]||(t[Ln]=function(e){return t.handleEvent(e)}),t[Ln])}function Nn(){Oe.call(this),this.i=new wn(this),this.P=this,this.I=null}function Mn(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,"string"==typeof e)e=new pn(e,t);else if(e instanceof pn)e.target=e.target||t;else{var s=e;Xe(e=new pn(i,t),s)}if(s=!0,n)for(var r=n.length-1;0<=r;r--){var o=e.g=n[r];s=jn(o,i,!0,e)&&s}if(s=jn(o=e.g=t,i,!0,e)&&s,s=jn(o,i,!1,e)&&s,n)for(r=0;r<n.length;r++)s=jn(o=e.g=n[r],i,!1,e)&&s}function jn(t,e,n,i){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,r=0;r<e.length;++r){var o=e[r];if(o&&!o.ca&&o.capture==n){var a=o.listener,h=o.ia||o.src;o.fa&&En(t.i,o),s=!1!==a.call(h,i)&&s}}return s&&!i.defaultPrevented}Re(Nn,Oe),Nn.prototype[mn]=!0,Nn.prototype.removeEventListener=function(t,e,n,i){kn(this,t,e,n,i)},Nn.prototype.M=function(){if(Nn.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)bn(n[i]);delete e.g[t],e.h--}}this.I=null},Nn.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},Nn.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};var Fn=we.JSON.stringify;function Bn(){var t=Kn;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Un,$n=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new Hn),(t=>t.reset()));class Hn{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function zn(t){we.setTimeout((()=>{throw t}),0)}function Vn(t,e){Un||function(){var t=we.Promise.resolve(void 0);Un=function(){t.then(Xn)}}(),qn||(Un(),qn=!0),Kn.add(t,e)}var qn=!1,Kn=new class{constructor(){this.h=this.g=null}add(t,e){const n=$n.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}};function Xn(){for(var t;t=Bn();){try{t.h.call(t.g)}catch(t){zn(t)}var e=$n;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}qn=!1}function Wn(t,e){Nn.call(this),this.h=t||1,this.g=e||we,this.j=ke(this.kb,this),this.l=Date.now()}function Gn(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Yn(t,e,n){if("function"==typeof t)n&&(t=ke(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ke(t.handleEvent,t)}return 2147483647<Number(e)?-1:we.setTimeout(t,e||0)}function Jn(t){t.g=Yn((()=>{t.g=null,t.i&&(t.i=!1,Jn(t))}),t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Re(Wn,Nn),(me=Wn.prototype).da=!1,me.S=null,me.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Mn(this,"tick"),this.da&&(Gn(this),this.start()))}},me.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},me.M=function(){Wn.Z.M.call(this),Gn(this),delete this.g};class Qn extends Oe{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Jn(this)}M(){super.M(),this.g&&(we.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zn(t){Oe.call(this),this.h=t,this.g={}}Re(Zn,Oe);var ti=[];function ei(t,e,n,i){Array.isArray(n)||(n&&(ti[0]=n.toString()),n=ti);for(var s=0;s<n.length;s++){var r=Cn(e,n[s],i||t.handleEvent,!1,t.h||t);if(!r)break;t.g[r.key]=r}}function ni(t){Ve(t.g,(function(t,e){this.g.hasOwnProperty(e)&&Dn(t)}),t),t.g={}}function ii(){this.g=!0}function si(t,e,n,i){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var r=s[0];if("noop"!=r&&"stop"!=r&&"close"!=r)for(var o=1;o<s.length;o++)s[o]=""}}}return Fn(n)}catch(t){return e}}(t,n)+(i?" "+i:"")}))}Zn.prototype.M=function(){Zn.Z.M.call(this),ni(this)},Zn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ii.prototype.Aa=function(){this.g=!1},ii.prototype.info=function(){};var ri={},oi=null;function ai(){return oi=oi||new Nn}function hi(t){pn.call(this,ri.Ma,t)}function li(t){const e=ai();Mn(e,new hi(e,t))}function ci(t,e){pn.call(this,ri.STAT_EVENT,t),this.stat=e}function ui(t){const e=ai();Mn(e,new ci(e,t))}function fi(t,e){pn.call(this,ri.Na,t),this.size=e}function pi(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return we.setTimeout((function(){t()}),e)}ri.Ma="serverreachability",Re(hi,pn),ri.STAT_EVENT="statevent",Re(ci,pn),ri.Na="timingevent",Re(fi,pn);var di={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},gi={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function mi(){}function yi(t){return t.h||(t.h=t.i())}function vi(){}mi.prototype.h=null;var bi,wi={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ei(){pn.call(this,"d")}function Ii(){pn.call(this,"c")}function Ti(){}function _i(t,e,n,i){this.l=t,this.j=e,this.m=n,this.X=i||1,this.V=new Zn(this),this.P=Si,t=tn?125:void 0,this.W=new Wn(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ci}function Ci(){this.i=null,this.g="",this.h=!1}Re(Ei,pn),Re(Ii,pn),Re(Ti,mi),Ti.prototype.g=function(){return new XMLHttpRequest},Ti.prototype.i=function(){return{}},bi=new Ti;var Si=45e3,Ai={},ki={};function Di(t,e,n){t.K=1,t.v=Qi(Ki(e)),t.s=n,t.U=!0,Ri(t,null)}function Ri(t,e){t.F=Date.now(),xi(t),t.A=Ki(t.v);var n=t.A,i=t.X;Array.isArray(i)||(i=[String(i)]),us(n.h,"t",i),t.C=0,n=t.l.H,t.h=new Ci,t.g=ur(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Qn(ke(t.Ia,t,t.g),t.O)),ei(t.V,t.g,"readystatechange",t.gb),e=t.H?qe(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),li(1),function(t,e,n,i,s,r){t.info((function(){if(t.g)if(r)for(var o="",a=r.split("&"),h=0;h<a.length;h++){var l=a[h].split("=");if(1<l.length){var c=l[0];l=l[1];var u=c.split("_");o=2<=u.length&&"type"==u[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+e+"\n"+n+"\n"+o}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function Oi(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Pi(t,e,n){let i,s=!0;for(;!t.I&&t.C<n.length;){if(i=Li(t,n),i==ki){4==e&&(t.o=4,ui(14),s=!1),si(t.j,t.m,null,"[Incomplete Response]");break}if(i==Ai){t.o=4,ui(15),si(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}si(t.j,t.m,i,null),Bi(t,i)}Oi(t)&&i!=ki&&i!=Ai&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ui(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ir(e),e.L=!0,ui(11))):(si(t.j,t.m,n,"[Invalid Chunked Response]"),Fi(t),ji(t))}function Li(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?ki:(n=Number(e.substring(n,i)),isNaN(n)?Ai:(i+=1)+n>e.length?ki:(e=e.substr(i,n),t.C=i+n,e))}function xi(t){t.Y=Date.now()+t.P,Ni(t,t.P)}function Ni(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=pi(ke(t.eb,t),e)}function Mi(t){t.B&&(we.clearTimeout(t.B),t.B=null)}function ji(t){0==t.l.G||t.I||or(t.l,t)}function Fi(t){Mi(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Gn(t.W),ni(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Bi(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||ys(n.i,t)))if(n.I=t.N,!t.J&&ys(n.i,t)&&3==n.G){try{var i=n.Ca.g.parse(e)}catch(t){i=null}if(Array.isArray(i)&&3==i.length){var s=i;if(0==s[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;rr(n),Ws(n)}nr(n),ui(18)}}else n.ta=s[1],0<n.ta-n.U&&37500>s[2]&&n.N&&0==n.A&&!n.v&&(n.v=pi(ke(n.ab,n),6e3));if(1>=ms(n.i)&&n.ka){try{n.ka()}catch(t){}n.ka=void 0}}else hr(n,11)}else if((t.J||n.g==t)&&rr(n),!je(e))for(s=n.Ca.g.parse(e),e=0;e<s.length;e++){let l=s[e];if(n.U=l[0],l=l[1],2==n.G)if("c"==l[0]){n.J=l[1],n.la=l[2];const e=l[3];null!=e&&(n.ma=e,n.h.info("VER="+n.ma));const s=l[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));const c=l[5];null!=c&&"number"==typeof c&&0<c&&(i=1.5*c,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;const u=t.g;if(u){const t=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var r=i.i;!r.g&&(Ue(t,"spdy")||Ue(t,"quic")||Ue(t,"h2"))&&(r.j=r.l,r.g=new Set,r.h&&(vs(r,r.h),r.h=null))}if(i.D){const t=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(i.sa=t,Ji(i.F,i.D,t))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((i=n).oa=cr(i,i.H?i.la:null,i.W),o.J){bs(i.i,o);var a=o,h=i.K;h&&a.setTimeout(h),a.B&&(Mi(a),xi(a)),i.g=o}else er(i);0<n.l.length&&Js(n)}else"stop"!=l[0]&&"close"!=l[0]||hr(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?hr(n,7):Xs(n):"noop"!=l[0]&&n.j&&n.j.wa(l),n.A=0)}li(4)}catch(t){}}function Ui(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Ie(t)||"string"==typeof t)xe(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(Ie(t)||"string"==typeof t){n=[];for(var i=t.length,s=0;s<i;s++)n.push(s)}else for(s in n=[],i=0,t)n[i++]=s;i=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Ie(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t),s=i.length;for(var r=0;r<s;r++)e.call(void 0,i[r],n&&n[r],t)}}function $i(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof $i)for(n=t.T(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function Hi(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var i=t.g[e];zi(t.h,i)&&(t.g[n++]=i),e++}t.g.length=n}if(t.i!=t.g.length){var s={};for(n=e=0;e<t.g.length;)zi(s,i=t.g[e])||(t.g[n++]=i,s[i]=1),e++;t.g.length=n}}function zi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(me=_i.prototype).setTimeout=function(t){this.P=t},me.gb=function(t){t=t.target;const e=this.L;e&&3==Hs(t)?e.l():this.Ia(t)},me.Ia=function(t){try{if(t==this.g)t:{const c=Hs(this.g);var e=this.g.Da();const u=this.g.ba();if(!(3>c)&&(3!=c||tn||this.g&&(this.h.h||this.g.ga()||zs(this.g)))){this.I||4!=c||7==e||li(8==e||0>=u?3:2),Mi(this);var n=this.g.ba();this.N=n;e:if(Oi(this)){var i=zs(this.g);t="";var s=i.length,r=4==Hs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Fi(this),ji(this);var o="";break e}this.h.i=new we.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:r&&e==s-1});i.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(t,e,n,i,s,r,o){t.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+e+"\n"+n+"\n"+r+" "+o}))}(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){e:{if(this.g){var a,h=this.g;if((a=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!je(a)){var l=a;break e}}l=null}if(!(n=l)){this.i=!1,this.o=3,ui(12),Fi(this),ji(this);break t}si(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Bi(this,n)}this.U?(Pi(this,c,o),tn&&this.i&&3==c&&(ei(this.V,this.W,"tick",this.fb),this.W.start())):(si(this.j,this.m,o,null),Bi(this,o)),4==c&&Fi(this),this.i&&!this.I&&(4==c?or(this.l,this):(this.i=!1,xi(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,ui(12)):(this.o=0,ui(13)),Fi(this),ji(this)}}}catch(t){}},me.fb=function(){if(this.g){var t=Hs(this.g),e=this.g.ga();this.C<e.length&&(Mi(this),Pi(this,t,e),this.i&&4!=t&&xi(this))}},me.cancel=function(){this.I=!0,Fi(this)},me.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(li(3),ui(17)),Fi(this),this.o=2,ji(this)):Ni(this,this.Y-t)},(me=$i.prototype).R=function(){Hi(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},me.T=function(){return Hi(this),this.g.concat()},me.get=function(t,e){return zi(this.h,t)?this.h[t]:e},me.set=function(t,e){zi(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},me.forEach=function(t,e){for(var n=this.T(),i=0;i<n.length;i++){var s=n[i],r=this.get(s);t.call(e,r,s,this)}};var Vi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function qi(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof qi){this.g=void 0!==e?e:t.g,Xi(this,t.j),this.s=t.s,Wi(this,t.i),Gi(this,t.m),this.l=t.l,e=t.h;var n=new as;n.i=e.i,e.g&&(n.g=new $i(e.g),n.h=e.h),Yi(this,n),this.o=t.o}else t&&(n=String(t).match(Vi))?(this.g=!!e,Xi(this,n[1]||"",!0),this.s=Zi(n[2]||""),Wi(this,n[3]||"",!0),Gi(this,n[4]),this.l=Zi(n[5]||"",!0),Yi(this,n[6]||"",!0),this.o=Zi(n[7]||"")):(this.g=!!e,this.h=new as(null,this.g))}function Ki(t){return new qi(t)}function Xi(t,e,n){t.j=n?Zi(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Wi(t,e,n){t.i=n?Zi(e,!0):e}function Gi(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Yi(t,e,n){e instanceof as?(t.h=e,function(t,e){e&&!t.j&&(hs(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(ls(this,e),us(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=ts(e,rs)),t.h=new as(e,t.g))}function Ji(t,e,n){t.h.set(e,n)}function Qi(t){return Ji(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Zi(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ts(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,es),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function es(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}qi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ts(e,ns,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(ts(e,ns,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(ts(n,"/"==n.charAt(0)?ss:is,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ts(n,os)),t.join("")};var ns=/[#\/\?@]/g,is=/[#\?:]/g,ss=/[#\?]/g,rs=/[#\?@]/g,os=/#/g;function as(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function hs(t){t.g||(t.g=new $i,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),s=null;if(0<=i){var r=t[n].substring(0,i);s=t[n].substring(i+1)}else r=t[n];e(r,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function ls(t,e){hs(t),e=fs(t,e),zi(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,zi((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Hi(t)))}function cs(t,e){return hs(t),e=fs(t,e),zi(t.g.h,e)}function us(t,e,n){ls(t,e),0<n.length&&(t.i=null,t.g.set(fs(t,e),Me(n)),t.h+=n.length)}function fs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function ps(t){this.l=t||ds,t=we.PerformanceNavigationTiming?0<(t=we.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(we.g&&we.g.Ea&&we.g.Ea()&&we.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(me=as.prototype).add=function(t,e){hs(this),this.i=null,t=fs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},me.forEach=function(t,e){hs(this),this.g.forEach((function(n,i){xe(n,(function(n){t.call(e,n,i,this)}),this)}),this)},me.T=function(){hs(this);for(var t=this.g.R(),e=this.g.T(),n=[],i=0;i<e.length;i++)for(var s=t[i],r=0;r<s.length;r++)n.push(e[i]);return n},me.R=function(t){hs(this);var e=[];if("string"==typeof t)cs(this,t)&&(e=Ne(e,this.g.get(fs(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Ne(e,t[n])}return e},me.set=function(t,e){return hs(this),this.i=null,cs(this,t=fs(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},me.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},me.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var i=e[n],s=encodeURIComponent(String(i));i=this.R(i);for(var r=0;r<i.length;r++){var o=s;""!==i[r]&&(o+="="+encodeURIComponent(String(i[r]))),t.push(o)}}return this.i=t.join("&")};var ds=10;function gs(t){return!!t.h||!!t.g&&t.g.size>=t.j}function ms(t){return t.h?1:t.g?t.g.size:0}function ys(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function vs(t,e){t.g?t.g.add(e):t.h=e}function bs(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function ws(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Me(t.i)}function Es(){}function Is(){this.g=new Es}function Ts(t,e,n){const i=n||"";try{Ui(t,(function(t,n){let s=t;Te(t)&&(s=Fn(t)),e.push(i+n+"="+encodeURIComponent(s))}))}catch(t){throw e.push(i+"type="+encodeURIComponent("_badmap")),t}}function _s(t,e,n,i,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(i)}catch(t){}}function Cs(t){this.l=t.$b||null,this.j=t.ib||!1}function Ss(t,e){Nn.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=As,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ps.prototype.cancel=function(){if(this.i=ws(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},Es.prototype.stringify=function(t){return we.JSON.stringify(t,void 0)},Es.prototype.parse=function(t){return we.JSON.parse(t,void 0)},Re(Cs,mi),Cs.prototype.g=function(){return new Ss(this.l,this.j)},Cs.prototype.i=function(t){return function(){return t}}({}),Re(Ss,Nn);var As=0;function ks(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Ds(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Rs(t)}function Rs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(me=Ss.prototype).open=function(t,e){if(this.readyState!=As)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Rs(this)},me.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||we).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},me.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ds(this)),this.readyState=As},me.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Rs(this)),this.g&&(this.readyState=3,Rs(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==we.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ks(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},me.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ds(this):Rs(this),3==this.readyState&&ks(this)}},me.Ua=function(t){this.g&&(this.response=this.responseText=t,Ds(this))},me.Ta=function(t){this.g&&(this.response=t,Ds(this))},me.ha=function(){this.g&&Ds(this)},me.setRequestHeader=function(t,e){this.v.append(t,e)},me.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},me.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Ss.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Os=we.JSON.parse;function Ps(t){Nn.call(this),this.headers=new $i,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ls,this.K=this.L=!1}Re(Ps,Nn);var Ls="",xs=/^https?$/i,Ns=["POST","PUT"];function Ms(t){return"content-type"==t.toLowerCase()}function js(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Fs(t),Us(t)}function Fs(t){t.D||(t.D=!0,Mn(t,"complete"),Mn(t,"error"))}function Bs(t){if(t.h&&void 0!==be&&(!t.C[1]||4!=Hs(t)||2!=t.ba()))if(t.v&&4==Hs(t))Yn(t.Fa,0,t);else if(Mn(t,"readystatechange"),4==Hs(t)){t.h=!1;try{const a=t.ba();t:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var i;if(i=0===a){var s=String(t.H).match(Vi)[1]||null;if(!s&&we.self&&we.self.location){var r=we.self.location.protocol;s=r.substr(0,r.length-1)}i=!xs.test(s?s.toLowerCase():"")}n=i}if(n)Mn(t,"complete"),Mn(t,"success");else{t.m=6;try{var o=2<Hs(t)?t.g.statusText:""}catch(t){o=""}t.j=o+" ["+t.ba()+"]",Fs(t)}}finally{Us(t)}}}function Us(t,e){if(t.g){$s(t);const n=t.g,i=t.C[0]?Ee:null;t.g=null,t.C=null,e||Mn(t,"ready");try{n.onreadystatechange=i}catch(t){}}}function $s(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(we.clearTimeout(t.A),t.A=null)}function Hs(t){return t.g?t.g.readyState:0}function zs(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Ls:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Vs(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=function(t){let e="";return Ve(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ji(t,e,n))}function qs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ks(t){this.za=0,this.l=[],this.h=new ii,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=qs("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=qs("baseRetryDelayMs",5e3,t),this.$a=qs("retryDelaySeedMs",1e4,t),this.Ya=qs("forwardChannelMaxRetries",2,t),this.ra=qs("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new ps(t&&t.concurrentRequestLimit),this.Ca=new Is,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Xs(t){if(Gs(t),3==t.G){var e=t.V++,n=Ki(t.F);Ji(n,"SID",t.J),Ji(n,"RID",e),Ji(n,"TYPE","terminate"),Zs(t,n),(e=new _i(t,t.h,e,void 0)).K=2,e.v=Qi(Ki(n)),n=!1,we.navigator&&we.navigator.sendBeacon&&(n=we.navigator.sendBeacon(e.v.toString(),"")),!n&&we.Image&&((new Image).src=e.v,n=!0),n||(e.g=ur(e.l,null),e.g.ea(e.v)),e.F=Date.now(),xi(e)}lr(t)}function Ws(t){t.g&&(ir(t),t.g.cancel(),t.g=null)}function Gs(t){Ws(t),t.u&&(we.clearTimeout(t.u),t.u=null),rr(t),t.i.cancel(),t.m&&("number"==typeof t.m&&we.clearTimeout(t.m),t.m=null)}function Ys(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&Js(t)}function Js(t){gs(t.i)||t.m||(t.m=!0,Vn(t.Ha,t),t.C=0)}function Qs(t,e){var n;n=e?e.m:t.V++;const i=Ki(t.F);Ji(i,"SID",t.J),Ji(i,"RID",n),Ji(i,"AID",t.U),Zs(t,i),t.o&&t.s&&Vs(i,t.o,t.s),n=new _i(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=tr(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),vs(t.i,n),Di(n,i,e)}function Zs(t,e){t.j&&Ui({},(function(t,n){Ji(e,n,t)}))}function tr(t,e,n){n=Math.min(t.l.length,n);var i=t.j?ke(t.j.Oa,t.j,t):null;t:{var s=t.l;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=s[0].h,t.push("ofs="+e)):e=0:t.push("ofs="+e);let r=!0;for(let o=0;o<n;o++){let n=s[o].h;const a=s[o].g;if(n-=e,0>n)e=Math.max(0,s[o].h-100),r=!1;else try{Ts(a,t,"req"+n+"_")}catch(t){i&&i(a)}}if(r){i=t.join("&");break t}}}return t=t.l.splice(0,n),e.D=t,i}function er(t){t.g||t.u||(t.Y=1,Vn(t.Ga,t),t.A=0)}function nr(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=pi(ke(t.Ga,t),ar(t,t.A)),t.A++,0))}function ir(t){null!=t.B&&(we.clearTimeout(t.B),t.B=null)}function sr(t){t.g=new _i(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Ki(t.oa);Ji(e,"RID","rpc"),Ji(e,"SID",t.J),Ji(e,"CI",t.N?"0":"1"),Ji(e,"AID",t.U),Zs(t,e),Ji(e,"TYPE","xmlhttp"),t.o&&t.s&&Vs(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Qi(Ki(e)),n.s=null,n.U=!0,Ri(n,t)}function rr(t){null!=t.v&&(we.clearTimeout(t.v),t.v=null)}function or(t,e){var n=null;if(t.g==e){rr(t),ir(t),t.g=null;var i=2}else{if(!ys(t.i,e))return;n=e.D,bs(t.i,e),i=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==i){n=e.s?e.s.length:0,e=Date.now()-e.F;var s=t.C;Mn(i=ai(),new fi(i,n,e,s)),Js(t)}else er(t);else if(3==(s=e.o)||0==s&&0<t.I||!(1==i&&function(t,e){return!(ms(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=pi(ke(t.Ha,t,e),ar(t,t.C)),t.C++,0)))}(t,e)||2==i&&nr(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:hr(t,5);break;case 4:hr(t,10);break;case 3:hr(t,6);break;default:hr(t,2)}}function ar(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function hr(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var i=ke(t.jb,t);n||(n=new qi("//www.google.com/images/cleardot.gif"),we.location&&"http"==we.location.protocol||Xi(n,"https"),Qi(n)),function(t,e){const n=new ii;if(we.Image){const i=new Image;i.onload=De(_s,n,i,"TestLoadImage: loaded",!0,e),i.onerror=De(_s,n,i,"TestLoadImage: error",!1,e),i.onabort=De(_s,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=De(_s,n,i,"TestLoadImage: timeout",!1,e),we.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}(n.toString(),i)}else ui(2);t.G=0,t.j&&t.j.va(e),lr(t),Gs(t)}function lr(t){t.G=0,t.I=-1,t.j&&(0==ws(t.i).length&&0==t.l.length||(t.i.i.length=0,Me(t.l),t.l.length=0),t.j.ua())}function cr(t,e,n){let i=function(t){return t instanceof qi?Ki(t):new qi(t,void 0)}(n);if(""!=i.i)e&&Wi(i,e+"."+i.i),Gi(i,i.m);else{const t=we.location;i=function(t,e,n,i){var s=new qi(null,void 0);return t&&Xi(s,t),e&&Wi(s,e),n&&Gi(s,n),i&&(s.l=i),s}(t.protocol,e?e+"."+t.hostname:t.hostname,+t.port,n)}return t.aa&&Ve(t.aa,(function(t,e){Ji(i,e,t)})),e=t.D,n=t.sa,e&&n&&Ji(i,e,n),Ji(i,"VER",t.ma),Zs(t,i),i}function ur(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ba&&!t.qa?new Ps(new Cs({ib:!0})):new Ps(t.qa)).L=t.H,e}function fr(){}function pr(){if(Qe&&!(10<=Number(un)))throw Error("Environmental error: no available transport.")}function dr(t,e){Nn.call(this),this.g=new Ks(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!je(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!je(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new yr(this)}function gr(t){Ei.call(this);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function mr(){Ii.call(this),this.status=1}function yr(t){this.g=t}(me=Ps.prototype).ea=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():bi.g(),this.C=this.u?yi(this.u):yi(bi),this.g.onreadystatechange=ke(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(t){return void js(this,t)}t=n||"";const s=new $i(this.headers);i&&Ui(i,(function(t,e){s.set(e,t)})),i=function(t){t:{var e=Ms;const n=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<n;s++)if(s in i&&e.call(void 0,i[s],s,t)){e=s;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(s.T()),n=we.FormData&&t instanceof we.FormData,!(0<=Le(Ns,e))||i||n||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{$s(this),0<this.B&&((this.K=function(t){return Qe&&cn()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ke(this.pa,this)):this.A=Yn(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(t){js(this,t)}},me.pa=function(){void 0!==be&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mn(this,"timeout"),this.abort(8))},me.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Mn(this,"complete"),Mn(this,"abort"),Us(this))},me.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Us(this,!0)),Ps.Z.M.call(this)},me.Fa=function(){this.s||(this.F||this.v||this.l?Bs(this):this.cb())},me.cb=function(){Bs(this)},me.ba=function(){try{return 2<Hs(this)?this.g.status:-1}catch(t){return-1}},me.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},me.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Os(e)}},me.Da=function(){return this.m},me.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(me=Ks.prototype).ma=8,me.G=1,me.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(t){}},me.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const s=new _i(this,this.h,t,void 0);let r=this.s;if(this.P&&(r?(r=qe(r),Xe(r,this.P)):r=this.P),null===this.o&&(s.H=r),this.ja)t:{for(var e=0,n=0;n<this.l.length;n++){var i=this.l[n];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=n;break t}if(4096===e||n===this.l.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=tr(this,s,e),Ji(n=Ki(this.F),"RID",t),Ji(n,"CVER",22),this.D&&Ji(n,"X-HTTP-Session-Id",this.D),Zs(this,n),this.o&&r&&Vs(n,this.o,r),vs(this.i,s),this.Ra&&Ji(n,"TYPE","init"),this.ja?(Ji(n,"$req",e),Ji(n,"SID","null"),s.$=!0,Di(s,n,null)):Di(s,n,e),this.G=2}}else 3==this.G&&(t?Qs(this,t):0==this.l.length||gs(this.i)||Qs(this))},me.Ga=function(){if(this.u=null,sr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=pi(ke(this.bb,this),t)}},me.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ui(10),Ws(this),sr(this))},me.ab=function(){null!=this.v&&(this.v=null,Ws(this),nr(this),ui(19))},me.jb=function(t){t?(this.h.info("Successfully pinged google.com"),ui(2)):(this.h.info("Failed to ping google.com"),ui(1))},(me=fr.prototype).xa=function(){},me.wa=function(){},me.va=function(){},me.ua=function(){},me.Oa=function(){},pr.prototype.g=function(t,e){return new dr(t,e)},Re(dr,Nn),dr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Vn(ke(t.hb,t,e))),ui(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=cr(t,null,t.W),Js(t)},dr.prototype.close=function(){Xs(this.g)},dr.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Ys(this.g,e)}else this.v?((e={}).__data__=Fn(t),Ys(this.g,e)):Ys(this.g,t)},dr.prototype.M=function(){this.g.j=null,delete this.j,Xs(this.g),delete this.g,dr.Z.M.call(this)},Re(gr,Ei),Re(mr,Ii),Re(yr,fr),yr.prototype.xa=function(){Mn(this.g,"a")},yr.prototype.wa=function(t){Mn(this.g,new gr(t))},yr.prototype.va=function(t){Mn(this.g,new mr(t))},yr.prototype.ua=function(){Mn(this.g,"b")},pr.prototype.createWebChannel=pr.prototype.g,dr.prototype.send=dr.prototype.u,dr.prototype.open=dr.prototype.m,dr.prototype.close=dr.prototype.close,di.NO_ERROR=0,di.TIMEOUT=8,di.HTTP_ERROR=6,gi.COMPLETE="complete",vi.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",Nn.prototype.listen=Nn.prototype.N,Ps.prototype.listenOnce=Ps.prototype.O,Ps.prototype.getLastError=Ps.prototype.La,Ps.prototype.getLastErrorCode=Ps.prototype.Da,Ps.prototype.getStatus=Ps.prototype.ba,Ps.prototype.getResponseJson=Ps.prototype.Qa,Ps.prototype.getResponseText=Ps.prototype.ga,Ps.prototype.send=Ps.prototype.ea,ve.createWebChannelTransport=function(){return new pr},ve.getStatEventTarget=function(){return ai()},ve.ErrorCode=di,ve.EventType=gi,ve.Event=ri,ve.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ve.FetchXmlHttpFactory=Cs,ve.WebChannel=vi,ve.XhrIo=Ps;const vr="@firebase/firestore";class br{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}br.UNAUTHENTICATED=new br(null),br.GOOGLE_CREDENTIALS=new br("google-credentials-uid"),br.FIRST_PARTY=new br("first-party-uid"),br.MOCK_USER=new br("mock-user");let wr="9.9.4";const Er=new C("@firebase/firestore");function Ir(t,...e){if(Er.logLevel<=b.DEBUG){const n=e.map(_r);Er.debug(`Firestore (${wr}): ${t}`,...n)}}function Tr(t,...e){if(Er.logLevel<=b.ERROR){const n=e.map(_r);Er.error(`Firestore (${wr}): ${t}`,...n)}}function _r(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function Cr(t="Unexpected state"){const e=`FIRESTORE (${wr}) INTERNAL ASSERTION FAILED: `+t;throw Tr(e),new Error(e)}function Sr(t,e){t||Cr()}const Ar="cancelled",kr="invalid-argument",Dr="failed-precondition",Rr="unavailable";class Or extends a{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Pr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class Lr{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class xr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(br.UNAUTHENTICATED)))}shutdown(){}}class Nr{constructor(t){this.t=t,this.currentUser=br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const i=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let s=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Pr,t.enqueueRetryable((()=>i(this.currentUser)))};const r=()=>{const e=s;t.enqueueRetryable((async()=>{await e.promise,await i(this.currentUser)}))},o=t=>{Ir("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),r()};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(Ir("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Pr)}}),0),r()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(Ir("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(Sr("string"==typeof e.accessToken),new Lr(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Sr(null===t||"string"==typeof t),new br(t)}}class Mr{constructor(t,e,n,i){this.h=t,this.l=e,this.m=n,this.g=i,this.type="FirstParty",this.user=br.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Sr(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class jr{constructor(t,e,n,i){this.h=t,this.l=e,this.m=n,this.g=i}getToken(){return Promise.resolve(new Mr(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable((()=>e(br.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Fr{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Br{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const n=t=>{null!=t.error&&Ir("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const n=t.token!==this.A;return this.A=t.token,Ir("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const i=t=>{Ir("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.T.onInit((t=>i(t))),setTimeout((()=>{if(!this.appCheck){const t=this.T.getImmediate({optional:!0});t?i(t):Ir("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(Sr("string"==typeof t.token),this.A=t.token,new Fr(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ur(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let e=0;e<t;e++)n[e]=Math.floor(256*Math.random());return n}function $r(t,e){return t<e?-1:t>e?1:0}class Hr{constructor(t,e,n){void 0===e?e=0:e>t.length&&Cr(),void 0===n?n=t.length-e:n>t.length-e&&Cr(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===Hr.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Hr?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const n=t.get(i),s=e.get(i);if(n<s)return-1;if(n>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class zr extends Hr{construct(t,e,n){return new zr(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new Or(kr,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter((t=>t.length>0)))}return new zr(e)}static emptyPath(){return new zr([])}}class Vr{constructor(t){this.path=t}static fromPath(t){return new Vr(zr.fromString(t))}static fromName(t){return new Vr(zr.fromString(t).popFirst(5))}static empty(){return new Vr(zr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===zr.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return zr.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Vr(new zr(t.slice()))}}function qr(t){return"IndexedDbTransactionError"===t.name}class Kr{constructor(t,e){this.comparator=t,this.root=e||Wr.EMPTY}insert(t,e){return new Kr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Wr.BLACK,null,null))}remove(t){return new Kr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Wr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Xr(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Xr(this.root,t,this.comparator,!1)}getReverseIterator(){return new Xr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Xr(this.root,t,this.comparator,!0)}}class Xr{constructor(t,e,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?n(t.key,e):1,e&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Wr{constructor(t,e,n,i,s){this.key=t,this.value=e,this.color=null!=n?n:Wr.RED,this.left=null!=i?i:Wr.EMPTY,this.right=null!=s?s:Wr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,i,s){return new Wr(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const s=n(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===s?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return Wr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Wr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Wr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Cr();if(this.right.isRed())throw Cr();const t=this.left.check();if(t!==this.right.check())throw Cr();return t+(this.isRed()?0:1)}}Wr.EMPTY=null,Wr.RED=!0,Wr.BLACK=!1,Wr.EMPTY=new class{constructor(){this.size=0}get key(){throw Cr()}get value(){throw Cr()}get color(){throw Cr()}get left(){throw Cr()}get right(){throw Cr()}copy(t,e,n,i,s){return this}insert(t,e,n){return new Wr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gr{constructor(t){this.comparator=t,this.data=new Kr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Yr(this.data.getIterator())}getIteratorFrom(t){return new Yr(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof Gr))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(t,i))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Gr(this.comparator);return e.data=t,e}}class Yr{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Jr(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new Jr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return $r(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}function Qr(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}Jr.EMPTY_BYTE_STRING=new Jr("");class Zr{constructor(t,e,n,i,s,r,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=r,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class to{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new to("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof to&&t.projectId===this.projectId&&t.database===this.database}}var eo,no;(no=eo||(eo={}))[no.OK=0]="OK",no[no.CANCELLED=1]="CANCELLED",no[no.UNKNOWN=2]="UNKNOWN",no[no.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",no[no.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",no[no.NOT_FOUND=5]="NOT_FOUND",no[no.ALREADY_EXISTS=6]="ALREADY_EXISTS",no[no.PERMISSION_DENIED=7]="PERMISSION_DENIED",no[no.UNAUTHENTICATED=16]="UNAUTHENTICATED",no[no.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",no[no.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",no[no.ABORTED=10]="ABORTED",no[no.OUT_OF_RANGE=11]="OUT_OF_RANGE",no[no.UNIMPLEMENTED=12]="UNIMPLEMENTED",no[no.INTERNAL=13]="INTERNAL",no[no.UNAVAILABLE=14]="UNAVAILABLE",no[no.DATA_LOSS=15]="DATA_LOSS",new Kr(Vr.comparator),new Kr(Vr.comparator),new Kr(Vr.comparator),new Gr(Vr.comparator),new Gr($r);class io{constructor(){}ce(t,e){this.ae(t,e),e.he()}ae(t,e){if("nullValue"in t)this.le(e,5);else if("booleanValue"in t)this.le(e,10),e.fe(t.booleanValue?1:0);else if("integerValue"in t)this.le(e,15),e.fe(Qr(t.integerValue));else if("doubleValue"in t){const n=Qr(t.doubleValue);isNaN(n)?this.le(e,13):(this.le(e,15),function(t){return 0===t&&1/t==-1/0}(n)?e.fe(0):e.fe(n))}else if("timestampValue"in t){const n=t.timestampValue;this.le(e,20),"string"==typeof n?e.de(n):(e.de(`${n.seconds||""}`),e.fe(n.nanos||0))}else if("stringValue"in t)this._e(t.stringValue,e),this.we(e);else if("bytesValue"in t)this.le(e,30),e.me(function(t){return"string"==typeof t?Jr.fromBase64String(t):Jr.fromUint8Array(t)}(t.bytesValue)),this.we(e);else if("referenceValue"in t)this.ge(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.le(e,45),e.fe(n.latitude||0),e.fe(n.longitude||0)}else"mapValue"in t?function(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}(t)?this.le(e,Number.MAX_SAFE_INTEGER):(this.ye(t.mapValue,e),this.we(e)):"arrayValue"in t?(this.pe(t.arrayValue,e),this.we(e)):Cr()}_e(t,e){this.le(e,25),this.Ie(t,e)}Ie(t,e){e.de(t)}ye(t,e){const n=t.fields||{};this.le(e,55);for(const t of Object.keys(n))this._e(t,e),this.ae(n[t],e)}pe(t,e){const n=t.values||[];this.le(e,50);for(const t of n)this.ae(t,e)}ge(t,e){this.le(e,37),Vr.fromName(t).path.forEach((t=>{this.le(e,60),this.Ie(t,e)}))}le(t,e){t.fe(e)}we(t){t.fe(2)}}io.Te=new io,new Uint8Array(0);class so{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new so(t,so.DEFAULT_COLLECTION_PERCENTILE,so.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ro(){return"undefined"!=typeof document?document:null}so.DEFAULT_COLLECTION_PERCENTILE=10,so.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,so.DEFAULT=new so(41943040,so.DEFAULT_COLLECTION_PERCENTILE,so.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),so.DISABLED=new so(-1,0,0);class oo{constructor(t,e,n=1e3,i=1.5,s=6e4){this.Hs=t,this.timerId=e,this.wo=n,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const e=Math.floor(this.po+this.Ro()),n=Math.max(0,Date.now()-this.To),i=Math.max(0,e-n);i>0&&Ir("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,(()=>(this.To=Date.now(),t()))),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class ao{constructor(t,e,n,i,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}static createAndSchedule(t,e,n,i,s){const r=Date.now()+n,o=new ao(t,e,r,i,s);return o.start(n),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Or(Ar,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class ho{constructor(t,e,n,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=br.UNAUTHENTICATED,this.clientId=class{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const i=Ur(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<e&&(n+=t.charAt(i[s]%t.length))}return n}}.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async t=>{Ir("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(Ir("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Or(Dr,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=function(t,e){if(Tr("AsyncQueue",`${e}: ${t}`),qr(t))return new Or(Rr,`${e}: ${t}`);throw t}(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}const lo=new Map;class co{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Or(kr,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Or(kr,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(t,e,n,i){if(!0===e&&!0===i)throw new Or(kr,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class uo{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new oo(this,"async_queue_retry"),this.jc=()=>{const t=ro();t&&Ir("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const t=ro();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Wc(),this.zc(t)}enterRestrictedMode(t){if(!this.Lc){this.Lc=!0,this.Gc=t||!1;const e=ro();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.jc)}}enqueue(t){if(this.Wc(),this.Lc)return new Promise((()=>{}));const e=new Pr;return this.zc((()=>this.Lc&&this.Gc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Bc.push(t),this.Hc())))}async Hc(){if(0!==this.Bc.length){try{await this.Bc[0](),this.Bc.shift(),this.xo.reset()}catch(t){if(!qr(t))throw t;Ir("AsyncQueue","Operation failed with retryable error: "+t)}this.Bc.length>0&&this.xo.Ao((()=>this.Hc()))}}zc(t){const e=this.$c.then((()=>(this.Kc=!0,t().catch((t=>{this.qc=t,this.Kc=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw Tr("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.Kc=!1,t))))));return this.$c=e,e}enqueueAfterDelay(t,e,n){this.Wc(),this.Qc.indexOf(t)>-1&&(e=0);const i=ao.createAndSchedule(this,t,e,n,(t=>this.Jc(t)));return this.Uc.push(i),i}Wc(){this.qc&&Cr()}verifyOperationInProgress(){}async Yc(){let t;do{t=this.$c,await t}while(t!==this.$c)}Xc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}Zc(t){return this.Yc().then((()=>{this.Uc.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.Uc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Yc()}))}ta(t){this.Qc.push(t)}Jc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}class fo extends class{constructor(t,e,n,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new co({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Or(Dr,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Or(Dr,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new co(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new xr;switch(t.type){case"gapi":const e=t.client;return new jr(e,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Or(kr,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=lo.get(t);e&&(Ir("ComponentProvider","Removing Datastore"),lo.delete(t),e.terminate())}(this),Promise.resolve()}}{constructor(t,e,n,i){super(t,e,n,i),this.type="firestore",this._queue=new uo,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||function(t){var e;const n=t._freezeSettings(),i=function(t,e,n,i){return new Zr(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new ho(t._authCredentials,t._appCheckCredentials,t._queue,i)}(this),this._firestoreClient.terminate()}}!function(t,e=!0){wr="9.9.4",J(new d("firestore",((t,{instanceIdentifier:n,options:i})=>{const s=t.getProvider("app").getImmediate(),r=new fo(new Nr(t.getProvider("auth-internal")),new Br(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Or(kr,'"projectId" not provided in firebase.initializeApp.');return new to(t.options.projectId,e)}(s,n),s);return i=Object.assign({useFetchStreams:e},i),r._setSettings(i),r}),"PUBLIC").setMultipleInstances(!0)),nt(vr,"3.4.15",t),nt(vr,"3.4.15","esm2017")}();const po="firebasestorage.googleapis.com";class go extends a{constructor(t,e){super(mo(t),`Firebase Storage: ${e} (${mo(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,go.prototype)}_codeEquals(t){return mo(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}function mo(t){return"storage/"+t}function yo(t){return new go("invalid-argument",t)}function vo(){return new go("app-deleted","The Firebase app was deleted.")}class bo{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=bo.makeFromUrl(t,e)}catch(e){return new bo(t,"")}if(""===n.path)return n;throw new go("invalid-default-bucket","Invalid default bucket '"+t+"'.")}static makeFromUrl(t,e){let n=null;const i="([A-Za-z0-9.\\-_]+)",s=new RegExp("^gs://"+i+"(/(.*))?$","i");function r(t){t.path_=decodeURIComponent(t.path)}const o=e.replace(/[.]/g,"\\."),a=[{regex:s,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${o}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:r},{regex:new RegExp(`^https?://${e===po?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:r}];for(let e=0;e<a.length;e++){const i=a[e],s=i.regex.exec(t);if(s){const t=s[i.indices.bucket];let e=s[i.indices.path];e||(e=""),n=new bo(t,e),i.postModify(n);break}}if(null==n)throw function(t){return new go("invalid-url","Invalid URL '"+t+"'.")}(t);return n}}class wo{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function Eo(t,e,n,i){if(i<e)throw yo(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw yo(`Invalid value for '${t}'. Expected ${n} or less.`)}var Io,To;(To=Io||(Io={}))[To.NO_ERROR=0]="NO_ERROR",To[To.NETWORK_ERROR=1]="NETWORK_ERROR",To[To.ABORT=2]="ABORT";class _o{constructor(t,e,n,i,s,r,o,a,h,l,c){this.url_=t,this.method_=e,this.headers_=n,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=r,this.callback_=o,this.errorCallback_=a,this.timeout_=h,this.progressCallback_=l,this.connectionFactory_=c,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((t,e)=>{this.resolve_=t,this.reject_=e,this.start_()}))}start_(){const t=(t,e)=>{const n=this.resolve_,i=this.reject_,s=e.connection;if(e.wasSuccessCode)try{const t=this.callback_(s,s.getResponse());!function(t){return void 0!==t}(t)?n():n(t)}catch(t){i(t)}else if(null!==s){const t=new go("unknown","An unknown error occurred, please check the error payload for server response.");t.serverResponse=s.getErrorText(),this.errorCallback_?i(this.errorCallback_(s,t)):i(t)}else e.canceled?i(this.appDelete_?vo():new go("canceled","User canceled the upload/download.")):i(new go("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?t(0,new Co(!1,null,!0)):this.backoffId_=function(t,e,n){let i=1,s=null,r=null,o=!1,a=0;function h(){return 2===a}let l=!1;function c(...t){l||(l=!0,e.apply(null,t))}function u(e){s=setTimeout((()=>{s=null,t(p,h())}),e)}function f(){r&&clearTimeout(r)}function p(t,...e){if(l)return void f();if(t)return f(),void c.call(null,t,...e);if(h()||o)return f(),void c.call(null,t,...e);let n;i<64&&(i*=2),1===a?(a=2,n=0):n=1e3*(i+Math.random()),u(n)}let d=!1;function g(t){d||(d=!0,f(),l||(null!==s?(t||(a=2),clearTimeout(s),u(0)):t||(a=1)))}return u(0),r=setTimeout((()=>{o=!0,g(!0)}),n),g}(((t,e)=>{if(e)return void t(!1,new Co(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const i=t=>{const e=t.loaded,n=t.lengthComputable?t.total:-1;null!==this.progressCallback_&&this.progressCallback_(e,n)};null!==this.progressCallback_&&n.addUploadProgressListener(i),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(i),this.pendingConnection_=null;const e=n.getErrorCode()===Io.NO_ERROR,s=n.getStatus();if(!e||this.isRetryStatusCode_(s)){const e=n.getErrorCode()===Io.ABORT;return void t(!1,new Co(!1,null,e))}const r=-1!==this.successCodes_.indexOf(s);t(!0,new Co(r,n))}))}),t,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),i=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||i}}class Co{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}}class So{constructor(t,e){this._service=t,this._location=e instanceof bo?e:bo.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new So(t,e)}get root(){const t=new bo(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const t=function(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===t)return null;const e=new bo(this._location.bucket,t);return new So(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw function(t){return new go("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)}}function Ao(t,e){const n=null==e?void 0:e.storageBucket;return null==n?null:bo.makeFromBucketSpec(n,t)}class ko{constructor(t,e,n,i,s){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=po,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?bo.makeFromBucketSpec(i,this._host):Ao(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,null!=this._url?this._bucket=bo.makeFromBucketSpec(this._url,t):this._bucket=Ao(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Eo("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Eo("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(null!==e)return e.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((t=>t.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new So(this,t)}_makeRequest(t,e,n,i){if(this._deleted)return new wo(vo());{const s=function(t,e,n,i,s,r){const o=function(t){const e=encodeURIComponent;let n="?";for(const i in t)t.hasOwnProperty(i)&&(n=n+(e(i)+"=")+e(t[i])+"&");return n=n.slice(0,-1),n}(t.urlParams),a=t.url+o,h=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(h,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(h,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(h,r),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(h,i),new _o(a,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s)}(t,this._appId,n,i,e,this._firebaseVersion);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(t,e){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,n,i).getPromise()}}const Do="@firebase/storage",Ro="0.9.9",Oo="storage";J(new d(Oo,(function(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new ko(n,i,s,e,"9.9.4")}),"PUBLIC").setMultipleInstances(!0)),nt(Do,Ro,""),nt(Do,Ro,"esm2017");const Po=function(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},e),i=n.name;if("string"!=typeof i||!i)throw Z.create("bad-app-name",{appName:String(i)});const s=W.get(i);if(s){if(c(t,s.options)&&c(n,s.config))return s;throw Z.create("duplicate-app",{appName:i})}const r=new y(i);for(const t of G.values())r.addComponent(t);const o=new tt(t,n,r);return W.set(i,o),o}({apiKey:"AIzaSyDJzgGKz0QPrBBHpOwEndp3Gsbcm_lZcmQ",authDomain:"stpaulsrkl-erp.firebaseapp.com",projectId:"stpaulsrkl-erp",storageBucket:"stpaulsrkl-erp.appspot.com",messagingSenderId:"761502801966",appId:"1:761502801966:web:8fafbf1396f581f3783fbf"});(function(t=et()){const e=Q(t=p(t),Kt);e.isInitialized()?e.getImmediate():function(t,e={}){const n=Q(t,Kt);if(n.isInitialized()){const t=n.getImmediate();if(c(e,n.getOptions()))return t;throw Yt.create("already-initialized")}n.initialize({options:e})}(t)})(Po),function(t,e){const n="string"==typeof t?t:"(default)";Q("object"==typeof t?t:et(),"firestore").getImmediate({identifier:n})}(Po),function(t=et(),e){Q(t=p(t),Oo).getImmediate({identifier:e})}(Po)})();